# R for travis: see documentation at https://docs.travis-ci.com/user/languages/r
language: r
sudo: required
r:
  - release
  - devel
env:
  - JULIA_URL: 'https://julialang-s3.julialang.org/bin/linux/x64/0.5/julia-0.5-latest-linux-x86_64.tar.gz'
  - JULIA_URL: 'https://julialang-s3.julialang.org/bin/linux/x64/0.6/julia-0.6-latest-linux-x86_64.tar.gz'
addons:
      apt:
        sources: [ 'ubuntu-toolchain-r-test']
        packages: ['libstdc++6']
before_install:
  - CURL_USER_AGENT="Travis-CI $(curl --version | head -n 1)"
  - mkdir -p ~/julia
  - curl -A "$CURL_USER_AGENT" -s -L --retry 7 $JULIA_URL | tar -C ~/julia -x -z --strip-components=1 -f -
  - export PATH="${PATH}:${HOME}/julia/bin"
  - julia -e 'versioninfo()'
script:
- R CMD build .
- R CMD check *tar.gz
cache: packages
